(() => {
  const __tmpl__section0 = template //
  `<section class="home__section home__section__hero">
    <div class="container">
      <div class="home__section__hero__logo">
        <img
          src="https://cdngarenanow-a.akamaihd.net/webth/cdn/garena/gamertocoder/bmg-logo/03.png"
          alt=""
        />
      </div>

      <div class="home__section__hero__btns">
        <a class="btn btn--play-now" target="_blank" href="https://www.blockmango.com/">เล่นเลย!</a>
        <a class="btn btn--browse-minigames" href="#/minigames">มินิเกมส์</a>
      </div>
    </div>
  </section>`;

  const __tmpl__section1 = template //
  `<section class="home__section home__section__download">
    <div class="container">
      <h3 style="font-size: 1.75rem">เลือกแพลตฟอร์ม</h3>

      <div class="platforms">
        <a
          class="platform"
          href="https://depz1z6xv9td2.cloudfront.net/client/30045/BlockmanGo_S.exe"
        >
          <span class="platform__label">วินโดวส์</span>
          <div class="platform__icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-windows" width="96" height="96" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M17.8 20l-12 -1.5c-1 -.1 -1.8 -.9 -1.8 -1.9v-9.2c0 -1 .8 -1.8 1.8 -1.9l12 -1.5c1.2 -.1 2.2 .8 2.2 1.9v12.1c0 1.2 -1.1 2.1 -2.2 1.9z"></path>
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="4" y1="12" x2="20" y2="12"></line>
            </svg>
          </div>
        </a>

        <a
          class="platform"
          target="_blank"
          href="https://apps.apple.com/cn/app/blockman-go-multiplayer-game/id1426189000?l=en&ls=1"
        >
          <span class="platform__label">แอปสโตร์</span>
          <div class="platform__icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-apple" width="96" height="96" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M9 7c-3 0 -4 3 -4 5.5c0 3 2 7.5 4 7.5c1.088 -.046 1.679 -.5 3 -.5c1.312 0 1.5 .5 3 .5s4 -3 4 -5c-.028 -.01 -2.472 -.403 -2.5 -3c-.019 -2.17 2.416 -2.954 2.5 -3c-1.023 -1.492 -2.951 -1.963 -3.5 -2c-1.433 -.111 -2.83 1 -3.5 1c-.68 0 -1.9 -1 -3 -1z"></path>
              <path d="M12 4a2 2 0 0 0 2 -2a2 2 0 0 0 -2 2"></path>
            </svg>
          </div>
        </a>

      <a
        class="platform"
        target="_blank"
        href="https://play.google.com/store/apps/details?id=com.sandboxol.blockymods&hl=en_US"
      >
        <span class="platform__label">กูเกิลเพล</span>
        <div class="platform__icon">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-google-play" width="96" height="96" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M4 3.71v16.58a0.7 .7 0 0 0 1.05 .606l14.622 -8.42a0.55 .55 0 0 0 0 -.953l-14.622 -8.419a0.7 .7 0 0 0 -1.05 .607z"></path>
            <line x1="15" y1="9" x2="4.5" y2="20.5"></line>
            <line x1="4.5" y1="3.5" x2="15" y2="15"></line>
          </svg>
        </div>
      </a>
      </div>
    </div>
  </section>`;

  const __tmpl__section2 = template //
  `<section class="home__section">
    <div class="container">
      <div class="banners">
        <div
          class="banner row-span-2"
          style="
            --banner-bg-url: url('https://cdngarenanow-a.akamaihd.net/webth/cdn/garena/gamertocoder/bmg-banner/02.png');
          "
        >
          <div class="banner__bg"></div>
          <div class="banner__icon">
            <img src="./img/blockmango.png" alt="" />
          </div>
          <div class="banner__content">
            <h1>Blockman GO</h1>
            <p>
            ยินดีต้อนรับสู่ Blockman GO! Blockman GO เป็น APP ฟรีที่มีทั้งเกมมินี่ เกม การแชท และหาเพื่อนได้ ท่าน 
            </p>
          </div>
        </div>
        <a
          class="banner"
          style="
            --banner-bg-url: url('https://cdngarenanow-a.akamaihd.net/webth/cdn/garena/gamertocoder/bmg-wallpaper/01.jpg');
          "
        >
          <div class="banner__bg"></div>
          <div class="banner__content">
            <h1>Customize</h1>
          </div>
        </a>
        <a
          href="https://www.blockmango.com/#/editor?from=platform".
          target="_blank"
          class="banner"
          style="
            --banner-bg-url: url('../img/banner2.png');
          "
        >
          <div class="banner__bg"></div>
          <div class="banner__content">
            <h1>Editor</h1>
          </div>
        </a>
      </div>
    </div>
  </section>`;

  /**
   * @typedef MinigameEntry
   * @type {object}
   * @property {number} no
   * @property {string} name
   * @property {string} icon
   * @property {string[]} genre
   * @property {string[] | null} images
   * @property {string} description
   *
   * @param {{ minigames: () => MinigameEntry[] | null }} props
   */
  function HomePage(props) {
    const minigames = create_memo(() => props.minigames()?.slice(0, 4) || []);

    const el__sec0 = clone_template(__tmpl__section0);
    const el__sec1 = clone_template(__tmpl__section1);
    const el__sec2 = clone_template(__tmpl__section2);

    const el__minigames_header = document.createElement('h3');
    el__minigames_header.textContent = 'มินิเกมส์แนะนำ';
    el__minigames_header.style.setProperty('font-size', '1.75rem');

    const el__minigames_link = document.createElement('a');
    el__minigames_link.href = '#/minigames';
    el__minigames_link.textContent = 'เพิ่มเติม';

    const el__minigame = __minigames_page({
      minigames: minigames,
      header: [el__minigames_header, el__minigames_link],
    });

    const fragments = document.createDocumentFragment();
    fragments.append(el__sec0, el__sec2, el__sec1, el__minigame);

    return fragments;
  }

  window.__home_page = HomePage;
})();
